Для того, чтобы getInstance выполнялась только 1 раз используется do sync.Once. Метод вызывается 2 раза, первый раз передается 1 в качестве аргумента, второй 2.
Из вывода видно, что тип mystruct создается только один раз, как и было задумано.
------------------------------------------
Вывод:
1
0
ok
PASS
